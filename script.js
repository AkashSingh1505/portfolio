const projects = [
    {
        "id": 1,
        "projectYear": 2022,
        "name": "ACash BANK",
        "description": "ACash BANK is a sophisticated banking software solution built in Java, tailored for the Windows platform. It offers a modern graphical user interface and integrates essential banking operations with an embedded database for hassle-free installation. Features include: \n\n- User registration and login with automatic Debit Card issuance and optional Credit Card request. \n- Support for basic banking operations like transactions and request generation. \n- Admin functionalities such as account management and user request approvals.",
        "thumbnail": "../res/acashBank_thumbnail.png",
        "category": "windowApp",
        "tags": ["Java", "Windows", "Embedded Database", "Banking Software"],
        "link": "https://github.com/AkashSingh1505/ACash-Bank-Software",
        "images": [
            "../res/bank_sc1.png",
            "../res/bank_sc2.png",
            "../res/bank_sc3.png",
            "../res/bank_sc4.png",
            "../res/bank_sc4.png",
            "../res/bank_sc6.png",
            
        ],
        "videos": [
            {
                "url": "https://github.com/AkashSingh1505/ACash-Bank-Software/assets/139606462/1d567e9b-9b48-4188-91e2-b9cc41ef5149",
                "mute": true,
                "loop": true,
                "autoPlay": true
            }
        ]
    },
   
    {
        "id": 3,
        "projectYear": 2023,
        "name": "Background Location Service with Activity Recognition",
        "description": "A powerful Android library providing seamless background location services with dynamic interval adjustments based on user activities like 'Still,' 'Walk,' 'Run,' and 'Vehicle,' optimizing performance and battery usage. This Android library is designed for developers seeking reliable background operation and flexible configuration.",
        "thumbnail": "../res/locationService_thumbnail.png",
        "category": "android",
        "tags": ["Android Library", "Background Service", "Activity Recognition", "Location Service"],
        "link": "https://github.com/AkashSingh1505/Location_BG_service_with_ARF",
        "images": [
            "../res/location_sc2.png",
            "../res/location_sc1.png",
        ],
        "videos": [
            {
                "url": "https://github.com/AkashSingh1505/Location_BG_service_with_ARF/assets/139606462/2d0c38f2-390f-452a-8351-c39993185245",
                "mute": true,
                "loop": true,
                "autoPlay": true
            }
        ]
    },

    {
        "id": 2,
        "projectYear": 2022,
        "name": "ACash ATM",
        "description": "ACash ATM is a feature-rich ATM software solution that integrates modern Quick Response (QR) technology and a Narrator Voice Assistant for visually impaired users. The software supports all essential ATM operations with a user-friendly interface. Features include: \n\n- Quick access to the ATM using QR code technology requiring only the user's PIN. \n- Narrator Voice Assistant available in English and Hindi, designed for visually impaired users. \n- Support for essential ATM operations like transaction processing, balance inquiry, and PIN management.",
        "thumbnail": "../res/acashAtm_thumbnail.png",
        "category": "windowApp",
        "tags": ["Java", "Windows", "ATM Software", "QR Code", "Voice Assistant"],
        "link": "https://github.com/AkashSingh1505/ACash-Bank-Software",
        "images": [
            "../res/atm_sc1.png",
            "../res/atm_sc2.png",
            "../res/atm_sc3.png"
            
        ],
        "videos": [
            {
                "url": "https://github.com/AkashSingh1505/ACash-Bank-Software/assets/139606462/1d567e9b-9b48-4188-91e2-b9cc41ef5149",
                "mute": true,
                "loop": true,
                "autoPlay": true
            }
        ]
    },

    {
        "id": 5,
        "projectYear": 2023,
        "name": "Excel Clone",
        "description": "The Excel Clone is a web and Android application built using Kotlin for the backend and HTML, CSS, and JavaScript for the frontend. It replicates the functionality of an Excel sheet, allowing users to input and manipulate data with customizable text formatting, including size, color, style, and alignment. The app also includes basic editing functions like cut, copy, and paste, and allows users to save their data in a JSON format for further processing.",
        "thumbnail": "../res/excelClone_thumbnail.png",
        "category": "webApp",
        "tags": ["Web App","Kotlin", "Android", "Excel Clone", "HTML", "CSS", "JavaScript"],
        "link": "https://github.com/AkashSingh1505/ExcelSheet_Clone_App",
        "images": [
            "../res/excel_sc3.png",
           "../res/excel_sc1.png",
           "../res/excel_sc2.png",
           
        ],
        "videos": null
    },
    
    {
        "id": 4,
        "projectYear": 2023,
        "name": "Instagram Replica",
        "description": "This Flutter project replicates the Instagram home page, offering a familiar interface across Android, iPhone, Desktop, and Web platforms. It demonstrates the versatility of Flutter for cross-platform development, providing a seamless user experience with customization options for developers.",
        "thumbnail": "../res/instagramClone_thumbnail.png",
        "category": "ios",
        "tags": ["Flutter", "Cross-Platform", "Instagram Replica"],
        "link": "https://github.com/AkashSingh1505/Instagram_Clone_flutter",
        "images": [
            "../res/instagram_sc1.png",
        ],
        "videos": null
    },
    
    {
        "id": 6,
        "projectYear": 2022,
        "name": "Amazon Clone",
        "description": "The Amazon Clone Landing Page is a replica of the Amazon website's main interface, built using HTML, CSS, and JavaScript. This project accurately recreates the visual design and layout of the Amazon homepage, providing a familiar user experience. While it replicates the UI components such as product listings and navigation, it does not include functional e-commerce features like user authentication, shopping cart, or order processing.",
        "thumbnail": "../res/amazonClone_thumbnail.png",
        "category": "website",
        "tags": ["HTML", "CSS", "JavaScript", "Responsive Design", "Amazon Clone", "UI Replica"],
        "link": "https://github.com/AkashSingh1505/Amazon_clone_web",
        "images": [
            "../res/amazon_sc1.png",
        ],
        "videos": null
    },
    {
        "id": 7,
        "projectYear": 2024,
        "name": "Pokemon",
        "description": "Pokemon-App is an Android application built using Kotlin that efficiently lists all Pokémon along with their respective details. The app features a modern user interface that allows users to browse through a comprehensive list of Pokémon, view detailed information for each one, and search for specific Pokémon by name. Key features include a detailed view for each Pokémon, optimized performance for smooth browsing, and a sleek UI adhering to the latest Android development practices.",
        "thumbnail": "../res/pokemon_thumbnail.png",
        "category": "android",
        "tags": ["Android - Kotlin", "Pokémon", "Modern UI", "Efficient Performance"],
        "link": "https://github.com/AkashSingh1505/Pokemon-App",
        "images": null,
        "videos": [
            {
                "url": "https://github.com/user-attachments/assets/da0e4c2f-cc5a-4c98-bdba-243e1481e181",
                "mute": true,
                "loop": true,
                "autoPlay": true
            }
        ]
    },
    {
        "id": 8,
        "projectYear": 2022,
        "name": "HiCare",
        "description": "HiCare, India's top pest control service provider, needed to digitize their audit process to improve efficiency. I developed a Kotlin-based Android app that transformed their workflow, boosting audit capacity from 1-2 to 10-15 audits per day, leading to an 86% increase in productivity and significantly enhancing client satisfaction.",
        "thumbnail": "../res/hicare_thumbnail.png",
        "category": "android",
        "tags": ["Android - Kotlin", "Best Practices", "Pest Control", "Big Audience"],
        "link": "https://play.google.com/store/apps/details?id=com.hicare.audit2",
        "images": [
            "../res/hicare_sc1.png",
        ],
        "videos": null
    },
    {
        "id": 9,
        "projectYear": 2024,
        "name": "Aarogyahat",
        "description": "Developed for a client in the healthcare industry, Aarogyahat is a comprehensive Android application built using Kotlin. The platform offers a wide range of services, including health insurance management, medical diagnostics, telemedicine consultations, and wellness programs. Integrated with HealthConnect, Aarogyahat provides personalized health insights and enables users to manage their health effectively.",
        "thumbnail": "../res/aarogyahaat_thumbnail.png",
        "category": "android",
        "tags": ["Android - Kotlin", "Healthcare", "HealthConnect Integration"],
        "link": "https://play.google.com/store/apps/details?id=com.finhaat.aarogyahaat",
        "images": [
            "../res/aarogyahaat_sc1.png",
            "../res/aarogyahaat_sc2.png",
            "../res/aarogyahaat_sc3.png",
        ],
        "videos": null
    },
    {
        "id": 10,
        "projectYear": 2024,
        "name": "JWT Authentication",
        "description": "Developed a robust JWT authentication system using Spring Boot and Java, demonstrating best practices in securing REST APIs. This project includes comprehensive implementation of JWT-based authentication with database connectivity for user management. Key features include secure token generation, validation, and integration with a relational database for user credentials and roles. This project showcases advanced proficiency in Spring Boot and Java, adhering to modern security practices.",
        "thumbnail": "../res/jwtAuth_thumbnail.png",
        "category": "Backend",
        "tags": ["Spring Boot", "Java", "JWT Authentication", "Database Connectivity"],
        "link": "https://github.com/AkashSingh1505/jwt_authentication_sb_3.0",
        "images": null,
        "videos":  null
    },
    {
        "id": 11,
        "projectYear": 2022,
        "name": "Java Data Structures & Algorithms",
        "description": "Dive into a meticulously crafted repository showcasing foundational algorithms and core Java concepts. This project highlights essential data structures and dynamic programming (DP) problems, offering detailed implementations and insights into both Java programming and algorithmic problem-solving. Designed to enhance your understanding of key concepts and improve coding proficiency, it features practical examples and solutions for a wide range of famous algorithms and data structures. Ideal for learners and developers seeking to master the fundamentals and apply them effectively in real-world scenarios.",
        "thumbnail": "../res/dsa_thumbnail.png",
        "category": "Education",
        "tags": [
            "Java",
            "Array",
            "Stack",
            "LinkedList",
            "ArrayList",
            "Recursion",
            "Queue",
            "Tree",
            "Graph",
            "Sorting Algorithms",
            "Searching Algorithms",
            "Compression Algorithms",
            "Dynamic Programming",
            "Greedy Algorithms"
        ],
        "link": "https://github.com/AkashSingh1505/DSA_basic-advanced_algos_and_Java_core_concept_Impl",
        "images": null,
        "videos": null
    },
    {
        "id": 12,
        "projectYear": 2024,
        "name": "Portfolio",
        "description": "To effectively showcase your projects, skills, and achievements, I developed a portfolio website that digitizes and presents your professional journey in a modern, engaging way. This platform is designed to offer a comprehensive view of your work, including detailed project overviews, skill highlights, and notable achievements. Leveraging advanced web technologies, the website ensures a responsive experience and serves as a dynamic tool for potential collaborations and opportunities.",
        "thumbnail": "../res/portfolio_thumbnail.png",
        "category": "website",
        "tags": [
            "Portfolio",
            "Web Development",
            "HTML",
            "CSS",
            "JavaScript",
            "Responsive Design"
        ],
        "link": "https://github.com/AkashSingh1505/portfolio",
        "images": [
           "../res/portfolio_sc1.png",
           "../res/portfolio_sc2.png",
           "../res/portfolio_sc3.png",

        ],
        "videos": null
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    // Add more project objects as needed
];



// Function to get query parameters from the URL
function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

// Function to open project details (from the main page)
function openProjectDetail(projectId,pathname) {
    // Navigate to the project details page with the projectId as a URL parameter
    window.location.href = `${pathname}projectDetails.html?projectId=${projectId}`;
}

function updateElementContent(elementId, data, prefix = '') {
    const element = document.getElementById(elementId);

    if (data) {
        element.textContent = `${prefix}${data}`;
        element.style.display = ''; // Ensure the element is visible
    } else {
        element.style.display = 'none'; // Hide the element
    }
}

function setThumbnail(impPath){
    const element = document.getElementById('project-thumbnail');
    element.src = impPath;
}



function setLinkText(link) {
    // Define the text for different types of links
    const websiteText = "Visit Website";
    const playStoreText = "Open on Play Store";
    const githubText = "Go to Github";

    // Set the link text
    const linkTextElement = document.getElementById('link-text');
    if (link.includes("play.google.com")) {
        setLiveIndicator(true);
        linkTextElement.textContent = playStoreText;
    } else if(link.includes("github.com")) {
        setLiveIndicator(false);
        linkTextElement.textContent = githubText;
    }else{
        setLiveIndicator(true);
        linkTextElement.textContent = websiteText;
    }

    linkTextElement.href = link;

}

function setLiveIndicator(isLive){
    const liveIndicatorElement = document.getElementById('live-indicator');
    if (isLive) {
        liveIndicatorElement.classList.add('live');
    } else {
        liveIndicatorElement.style.display = 'none';
    }
}

function loadHomePage(){
    const container = document.getElementById('feature-project');
    container.innerHTML = '';
    let filteredProjects = projects.filter(project => project.link.includes("github.com"));
    let count = 0;
    filteredProjects.forEach(project => {
        if(count>=4){
            return;
        }
        const projectCard = `
       <div class="card" data-project-id="${project.id}">
       <div class="star-icon">
                <img src="res/featured_icon.png" alt="Star Icon">
            </div>
            <img src="res/${project.thumbnail}" alt="Card Image" class="card-img-top">
            <div class="card-body">
                <h5 class="card-title">${project.name}</h5>
                <p class="card-subtitle">${project.description}</p>
            </div>
        </div>
        `;
        container.innerHTML += projectCard;
        count++
        
    });

      // Add click event listener to each card
     document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('click', (e) => {
            const projectId = e.currentTarget.dataset.projectId;
            openProjectDetail(projectId,"project pages/");
        });
    });

}

// Function to load project details (from the projectDetails.html page)
function loadProjectDetails() {
    const projectId = getQueryParam('projectId');
    const project = projects.find(p => p.id == projectId);

    if (project) {
        // Set data in the HTML elements of the project detail page
        updateElementContent('project-year', project.projectYear, 'Github: ');
        updateElementContent('project-name', project.name);
        updateElementContent('project-description', project.description);
        if(project.images!=null){
            setThumbnail(project.images[0]);
        }else{
            setThumbnail(project.thumbnail);
        }
        setLinkText(project.link);
      
        // Populate project tags
        if(project.tags){
            const tagsContainer = document.getElementById('project-tags');
            tagsContainer.innerHTML = ''; // Clear existing tags
            project.tags.forEach(tag => {
                const tagElement = document.createElement('div');
                tagElement.className = 'tech-item';
                tagElement.textContent = tag;
                tagsContainer.appendChild(tagElement);
            });
        }

        // Populate project images
        if(project.images){
            const imagesContainer = document.getElementById('project-images');
            imagesContainer.innerHTML = ''; // Clear existing images
            project.images.forEach(imageUrl => {
                const imgElement = document.createElement('img');
                imgElement.className = 'card-img-top';
                imgElement.src = imageUrl;
                imagesContainer.appendChild(imgElement);
            });
        }else{
            document.getElementById('project-images').style.display = 'none';
            document.getElementById('image-title').style.display = 'none';
        }
        
        // Populate project videos
        if(project.videos){
            const videosContainer = document.getElementById('project-videos');
            videosContainer.innerHTML = ''; // Clear existing videos
            project.videos.forEach(video => {
                const iframeElement = document.createElement('iframe');
                iframeElement.width = '100%';
                iframeElement.height = '100%';
                iframeElement.src = `${video.url}?autoplay=${video.autoPlay ? 1 : 0}&mute=${video.mute ? 1 : 0}&loop=${video.loop ? 1 : 0}`;
                iframeElement.title = "YouTube video player";
                iframeElement.frameBorder = "0";
                iframeElement.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
                iframeElement.allowFullscreen = true;
                videosContainer.appendChild(iframeElement);
            });
        }else{
            document.getElementById('project-videos').style.display = 'none';
            document.getElementById('video-title').style.display = 'none';
        }

    } else {
        console.error('Project not found!');
    }
}


function renderProjects(filteredProjects) {
    const projectContainer = document.querySelector('.card-container');
    projectContainer.innerHTML = '';

    filteredProjects.forEach(project => {
        const projectCard = `
            <div class="card" data-project-id="${project.id}">
                <img src="${project.thumbnail}" alt="Card Image" class="card-img-top">
                <div class="card-body">
                    <h5 class="card-Year">Github: ${project.projectYear}</h5>
                    <h5 class="card-title">${project.name}</h5>
                    <p class="card-subtitle">${project.description}</p>
                </div>
            </div>
        `;
        projectContainer.innerHTML += projectCard;
    });

     // Add click event listener to each card
     document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('click', (e) => {
            const projectId = e.currentTarget.dataset.projectId;
            openProjectDetail(projectId,"");
        });
    });


    console.log('Rendered projects:', filteredProjects);  // Debugging line
}

function filterProjects(category) {
    console.log('Filtering category:', category);  // Debugging line

    let filteredProjects;
    if (category === 'all') {
        filteredProjects = projects;
    } else {
        filteredProjects = projects.filter(project => project.category === category);
    }

    renderProjects(filteredProjects);
}

document.addEventListener('DOMContentLoaded', () => {
   
    if (window.location.pathname.includes('allProjects.html')) {
        filterProjects('all');
        const menuItems = document.querySelectorAll('.menu-item');
    
        menuItems.forEach(menuItem => {
            menuItem.addEventListener('click', (e) => {
                e.preventDefault();
                
                // Remove the 'active' class from all menu items
                menuItems.forEach(item => item.classList.remove('active'));
                
                // Add the 'active' class to the clicked item
                menuItem.classList.add('active');
            });
        });
        document.getElementById('allProjects').classList.add('active');

    }else if(window.location.pathname.includes('skills.html')){
        
    }else if(window.location.pathname.includes('projectDetails.html')){
        loadProjectDetails();
    }else{
        loadHomePage();
    }
    
});


